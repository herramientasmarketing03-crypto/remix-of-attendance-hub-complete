import { 
  Activity, 
  Applicant, 
  TerminatedEmployee, 
  JustificationRequest, 
  Task, 
  WorkPlan,
  EmployeePerformance,
  AreaRequirement,
  InventoryItem
} from '@/types/hrm';
import { mockEmployees } from './mockData';

// Generar cumpleaños ficticios para empleados
const getBirthdays = (): Activity[] => {
  const today = new Date();
  const currentMonth = today.getMonth();
  
  return mockEmployees.slice(0, 8).map((emp, i) => {
    const birthDate = new Date(today);
    birthDate.setDate(today.getDate() + (i * 3) - 2);
    
    return {
      id: `birthday-${emp.id}`,
      title: `Cumpleaños de ${emp.name}`,
      description: `Celebración del cumpleaños de ${emp.name} - ${emp.position}`,
      date: birthDate.toISOString().split('T')[0],
      type: 'birthday' as const,
      department: emp.department,
      participants: [],
      createdBy: 'Sistema',
      status: 'pending' as const,
    };
  });
};

export const mockActivities: Activity[] = [
  {
    id: 'act1',
    title: 'Reunión de Planificación Q1 2025',
    description: 'Reunión general para planificar objetivos del primer trimestre',
    date: new Date(Date.now() + 86400000 * 2).toISOString().split('T')[0],
    time: '10:00',
    type: 'meeting',
    participants: ['1', '2', '11'],
    createdBy: 'RRHH',
    status: 'pending',
    priority: 'alta',
  },
  {
    id: 'act2',
    title: 'Capacitación: Nuevas Políticas RRHH',
    description: 'Capacitación obligatoria sobre actualizaciones del reglamento interno',
    date: new Date(Date.now() + 86400000 * 5).toISOString().split('T')[0],
    time: '15:00',
    type: 'training',
    department: 'comercial',
    createdBy: 'RRHH',
    status: 'pending',
    priority: 'media',
  },
  {
    id: 'act3',
    title: 'Entrega de Reportes Mensuales',
    description: 'Fecha límite para entrega de reportes de asistencia',
    date: new Date(Date.now() + 86400000 * 7).toISOString().split('T')[0],
    type: 'deadline',
    createdBy: 'Sistema',
    status: 'pending',
    priority: 'alta',
  },
  {
    id: 'act4',
    title: 'Evento de Integración Navideño',
    description: 'Cena de fin de año para todo el personal',
    date: '2024-12-20',
    time: '19:00',
    type: 'event',
    createdBy: 'RRHH',
    status: 'pending',
  },
  ...getBirthdays(),
];

export const mockApplicants: Applicant[] = [
  {
    id: 'app1',
    name: 'Carlos Mendoza Ríos',
    email: 'carlos.mendoza@email.com',
    phone: '987123456',
    position: 'Desarrollador Full Stack',
    department: 'ti',
    appliedAt: new Date(Date.now() - 86400000 * 3).toISOString(),
    status: 'interview',
    source: 'linkedin',
    experience: '4 años en desarrollo web con React y Node.js',
    salary_expectation: 5000,
    notes: 'Excelente perfil técnico, programar entrevista con jefe TI',
  },
  {
    id: 'app2',
    name: 'María Elena Vargas',
    email: 'maria.vargas@email.com',
    phone: '987234567',
    position: 'Ejecutivo de Ventas',
    department: 'comercial',
    appliedAt: new Date(Date.now() - 86400000 * 5).toISOString(),
    status: 'pending',
    source: 'web',
    experience: '2 años en ventas B2B',
    salary_expectation: 2500,
  },
  {
    id: 'app3',
    name: 'Pedro Sánchez Luna',
    email: 'pedro.sanchez@email.com',
    phone: '987345678',
    position: 'Agente de Soporte',
    department: 'soporte',
    appliedAt: new Date(Date.now() - 86400000 * 7).toISOString(),
    status: 'approved',
    source: 'referral',
    experience: '1 año en atención al cliente',
    salary_expectation: 1800,
    notes: 'Aprobado para ingreso el 01/01/2025',
  },
  {
    id: 'app4',
    name: 'Lucía Fernández Díaz',
    email: 'lucia.fernandez@email.com',
    phone: '987456789',
    position: 'Community Manager',
    department: 'marketing',
    appliedAt: new Date(Date.now() - 86400000 * 2).toISOString(),
    status: 'pending',
    source: 'web',
    experience: '3 años gestionando redes sociales',
    salary_expectation: 2800,
  },
];

export const mockTerminatedEmployees: TerminatedEmployee[] = [
  {
    id: 'term1',
    employeeId: 'ex1',
    name: 'Roberto Díaz Paredes',
    department: 'comercial',
    position: 'Ejecutivo de Ventas',
    hireDate: '2022-03-15',
    terminationDate: '2024-11-30',
    terminationType: 'voluntary',
    reason: 'Renuncia voluntaria por mejora laboral',
    processedBy: 'RRHH',
    clearanceComplete: true,
    finalSettlementPaid: true,
  },
  {
    id: 'term2',
    employeeId: 'ex2',
    name: 'Ana Torres Medina',
    department: 'soporte',
    position: 'Agente de Soporte',
    hireDate: '2023-06-01',
    terminationDate: '2024-10-15',
    terminationType: 'contract_end',
    reason: 'Fin de contrato a plazo fijo',
    processedBy: 'RRHH',
    clearanceComplete: true,
    finalSettlementPaid: true,
  },
  {
    id: 'term3',
    employeeId: 'ex3',
    name: 'Jorge Ramírez Castro',
    department: 'ti',
    position: 'QA Tester',
    hireDate: '2021-09-01',
    terminationDate: '2024-09-30',
    terminationType: 'mutual_agreement',
    reason: 'Mutuo acuerdo por reestructuración',
    processedBy: 'RRHH',
    clearanceComplete: true,
    finalSettlementPaid: false,
  },
];

export const mockJustifications: JustificationRequest[] = [
  {
    id: 'just1',
    employeeId: '5',
    employeeName: 'Andrea Paz',
    type: 'tardanza',
    date: new Date(Date.now() - 86400000 * 2).toISOString().split('T')[0],
    description: 'Tardanza por cita médica de emergencia',
    evidenceType: 'medical',
    submittedAt: new Date(Date.now() - 86400000).toISOString(),
    dctsValidation: {
      validated: true,
      validatedAt: new Date().toISOString(),
      validatedBy: 'Sistema DCTS',
    },
    approvalFlow: {
      jefeApproval: { approved: true, date: new Date().toISOString(), by: 'Supervisor Soporte' },
    },
    status: 'jefe_approved',
  },
  {
    id: 'just2',
    employeeId: '2',
    employeeName: 'Lesly Lopez',
    type: 'falta',
    date: new Date(Date.now() - 86400000 * 3).toISOString().split('T')[0],
    description: 'Ausencia por enfermedad',
    evidenceUrl: '/docs/certificado-medico.pdf',
    evidenceType: 'medical',
    submittedAt: new Date(Date.now() - 86400000 * 2).toISOString(),
    dctsValidation: {
      validated: true,
      validatedAt: new Date(Date.now() - 86400000).toISOString(),
      validatedBy: 'Sistema DCTS',
    },
    approvalFlow: {
      jefeApproval: { approved: true, date: new Date(Date.now() - 86400000).toISOString(), by: 'Gerente Comercial' },
      rrhhApproval: { approved: true, date: new Date().toISOString(), by: 'RRHH' },
    },
    status: 'rrhh_approved',
  },
  {
    id: 'just3',
    employeeId: '8',
    employeeName: 'Daniel Castillo',
    type: 'permiso',
    date: new Date(Date.now() + 86400000 * 2).toISOString().split('T')[0],
    description: 'Permiso para trámite personal en banco',
    submittedAt: new Date().toISOString(),
    approvalFlow: {},
    status: 'pending',
  },
];

export const mockTasks: Task[] = [
  {
    id: 'task1',
    title: 'Revisar contratos próximos a vencer',
    description: 'Identificar contratos que vencen en los próximos 30 días y preparar renovaciones',
    assignedTo: 'RRHH',
    assignedBy: 'Gerencia',
    priority: 'alta',
    status: 'in_progress',
    dueDate: new Date(Date.now() + 86400000 * 5).toISOString().split('T')[0],
    createdAt: new Date(Date.now() - 86400000 * 2).toISOString(),
    tags: ['contratos', 'urgente'],
  },
  {
    id: 'task2',
    title: 'Actualizar organigrama departamental',
    description: 'Reflejar los cambios recientes en la estructura organizacional',
    assignedTo: 'RRHH',
    assignedBy: 'Gerencia General',
    priority: 'media',
    status: 'pending',
    dueDate: new Date(Date.now() + 86400000 * 10).toISOString().split('T')[0],
    createdAt: new Date(Date.now() - 86400000).toISOString(),
    tags: ['organigrama', 'documentación'],
  },
  {
    id: 'task3',
    title: 'Preparar reporte de asistencia mensual',
    description: 'Consolidar datos de asistencia de todos los departamentos',
    assignedTo: '1',
    assignedBy: 'RRHH',
    department: 'comercial',
    priority: 'alta',
    status: 'completed',
    dueDate: new Date(Date.now() - 86400000).toISOString().split('T')[0],
    createdAt: new Date(Date.now() - 86400000 * 5).toISOString(),
    completedAt: new Date().toISOString(),
    tags: ['reporte', 'asistencia'],
  },
  {
    id: 'task4',
    title: 'Coordinar capacitación de seguridad',
    description: 'Programar y coordinar la capacitación anual de seguridad ocupacional',
    assignedTo: '11',
    assignedBy: 'RRHH',
    department: 'comercial',
    priority: 'media',
    status: 'pending',
    dueDate: new Date(Date.now() + 86400000 * 15).toISOString().split('T')[0],
    createdAt: new Date().toISOString(),
    tags: ['capacitación', 'seguridad'],
  },
];

export const mockWorkPlans: WorkPlan[] = [
  {
    id: 'wp1',
    title: 'Plan de Trabajo TI Q1 2025',
    description: 'Objetivos y metas del departamento de TI para el primer trimestre',
    department: 'ti',
    startDate: '2025-01-01',
    endDate: '2025-03-31',
    objectives: [
      { id: 'obj1', description: 'Implementar nuevo sistema de gestión', progress: 0, dueDate: '2025-02-28', status: 'pending' },
      { id: 'obj2', description: 'Migrar servidores a la nube', progress: 0, dueDate: '2025-03-15', status: 'pending' },
      { id: 'obj3', description: 'Capacitar equipo en nuevas tecnologías', progress: 0, dueDate: '2025-01-31', status: 'pending' },
    ],
    createdBy: 'Jefe TI',
    status: 'draft',
  },
  {
    id: 'wp2',
    title: 'Plan Comercial Q4 2024',
    description: 'Metas de ventas y estrategias comerciales',
    department: 'comercial',
    startDate: '2024-10-01',
    endDate: '2024-12-31',
    objectives: [
      { id: 'obj4', description: 'Alcanzar meta de ventas de S/. 500,000', progress: 75, dueDate: '2024-12-31', status: 'in_progress' },
      { id: 'obj5', description: 'Captar 50 nuevos clientes', progress: 80, dueDate: '2024-12-31', status: 'in_progress' },
      { id: 'obj6', description: 'Reducir tiempo de respuesta a 24hrs', progress: 100, dueDate: '2024-11-30', status: 'completed' },
    ],
    createdBy: 'Gerente Comercial',
    status: 'active',
  },
];

export const mockEmployeePerformance: EmployeePerformance[] = [
  {
    id: 'perf1',
    employeeId: '1',
    period: '2024-Q3',
    classification: 'A',
    bonusCondition: 'eligible',
    kpis: [
      { name: 'Ventas', target: 50000, actual: 62000, weight: 40 },
      { name: 'Clientes nuevos', target: 10, actual: 12, weight: 30 },
      { name: 'Satisfacción cliente', target: 90, actual: 95, weight: 30 },
    ],
    overallScore: 95,
    observations: 'Excelente desempeño, superó todas las metas',
    evaluatedBy: 'Gerente Comercial',
    evaluatedAt: new Date(Date.now() - 86400000 * 30).toISOString(),
  },
  {
    id: 'perf2',
    employeeId: '4',
    period: '2024-Q3',
    classification: 'B',
    bonusCondition: 'eligible',
    kpis: [
      { name: 'Tickets resueltos', target: 100, actual: 95, weight: 40 },
      { name: 'Tiempo de respuesta', target: 2, actual: 1.8, weight: 30 },
      { name: 'Código sin bugs', target: 95, actual: 92, weight: 30 },
    ],
    overallScore: 88,
    evaluatedBy: 'Jefe TI',
    evaluatedAt: new Date(Date.now() - 86400000 * 28).toISOString(),
  },
  {
    id: 'perf3',
    employeeId: '5',
    period: '2024-Q3',
    classification: 'C',
    bonusCondition: 'pending_review',
    kpis: [
      { name: 'Tickets atendidos', target: 150, actual: 120, weight: 50 },
      { name: 'Satisfacción', target: 85, actual: 78, weight: 50 },
    ],
    overallScore: 72,
    observations: 'Necesita mejorar tiempos de respuesta. En seguimiento.',
    evaluatedBy: 'Supervisor Soporte',
    evaluatedAt: new Date(Date.now() - 86400000 * 25).toISOString(),
  },
];

export const mockAreaRequirements: AreaRequirement[] = [
  {
    id: 'areq1',
    department: 'ti',
    title: 'Licencias Adobe Creative Cloud',
    description: 'Renovación de licencias para el equipo de diseño',
    type: 'variable',
    category: 'software',
    estimatedCost: 1200,
    justification: 'Necesario para trabajo de diseño y edición',
    requestedBy: 'Jefe TI',
    requestedAt: new Date(Date.now() - 86400000 * 5).toISOString(),
    priority: 'alta',
    status: 'approved',
    approvedBy: 'Gerencia',
    approvedAt: new Date(Date.now() - 86400000 * 2).toISOString(),
    recurring: true,
    frequency: 'yearly',
  },
  {
    id: 'areq2',
    department: 'comercial',
    title: 'CRM Salesforce',
    description: 'Implementación de sistema CRM para gestión de clientes',
    type: 'fijo',
    category: 'software',
    estimatedCost: 500,
    justification: 'Mejorar seguimiento y gestión de cartera de clientes',
    requestedBy: 'Gerente Comercial',
    requestedAt: new Date(Date.now() - 86400000 * 10).toISOString(),
    priority: 'media',
    status: 'in_evaluation',
    recurring: true,
    frequency: 'monthly',
  },
  {
    id: 'areq3',
    department: 'soporte',
    title: 'Headsets profesionales',
    description: 'Compra de 10 headsets para agentes de soporte',
    type: 'variable',
    category: 'hardware',
    estimatedCost: 800,
    justification: 'Reemplazo de equipos dañados y mejora de calidad de audio',
    requestedBy: 'Supervisor Soporte',
    requestedAt: new Date(Date.now() - 86400000 * 3).toISOString(),
    priority: 'alta',
    status: 'pending',
    recurring: false,
    frequency: 'one_time',
  },
];

export const mockInventory: InventoryItem[] = [
  {
    id: 'inv1',
    name: 'Laptop Dell Latitude 5540',
    category: 'equipment',
    quantity: 15,
    unit: 'unidades',
    location: 'Almacén TI',
    department: 'ti',
    status: 'in_use',
    purchaseDate: '2024-01-15',
    warranty: '2027-01-15',
    value: 4500,
    serialNumber: 'DELL-5540-001',
  },
  {
    id: 'inv2',
    name: 'Monitor LG 27"',
    category: 'equipment',
    quantity: 25,
    unit: 'unidades',
    location: 'Oficina principal',
    status: 'in_use',
    purchaseDate: '2023-06-01',
    warranty: '2026-06-01',
    value: 350,
  },
  {
    id: 'inv3',
    name: 'Sillas ergonómicas',
    category: 'furniture',
    quantity: 50,
    unit: 'unidades',
    location: 'Todas las áreas',
    status: 'in_use',
    purchaseDate: '2023-03-01',
    value: 200,
  },
  {
    id: 'inv4',
    name: 'Licencia Microsoft 365 Business',
    category: 'software_license',
    quantity: 100,
    unit: 'licencias',
    location: 'Digital',
    status: 'in_use',
    purchaseDate: '2024-01-01',
    value: 150,
  },
  {
    id: 'inv5',
    name: 'Papel Bond A4',
    category: 'supplies',
    quantity: 50,
    unit: 'resmas',
    location: 'Almacén general',
    status: 'available',
    value: 12,
  },
];

export const JUSTIFICATION_STATUS = {
  pending: { name: 'Pendiente', className: 'bg-warning/10 text-warning border-warning/20' },
  jefe_approved: { name: 'Aprobado Jefe', className: 'bg-info/10 text-info border-info/20' },
  rrhh_approved: { name: 'Aprobado RRHH', className: 'bg-success/10 text-success border-success/20' },
  rejected: { name: 'Rechazado', className: 'bg-destructive/10 text-destructive border-destructive/20' },
};

export const TASK_STATUS = {
  pending: { name: 'Pendiente', className: 'bg-muted text-muted-foreground' },
  in_progress: { name: 'En Progreso', className: 'bg-info/10 text-info border-info/20' },
  completed: { name: 'Completado', className: 'bg-success/10 text-success border-success/20' },
  cancelled: { name: 'Cancelado', className: 'bg-destructive/10 text-destructive border-destructive/20' },
};

export const CLASSIFICATION_COLORS: Record<string, { label: string; className: string; description: string }> = {
  A: { label: 'Clase A', className: 'bg-success text-success-foreground', description: 'Desempeño excepcional' },
  B: { label: 'Clase B', className: 'bg-info text-info-foreground', description: 'Buen desempeño' },
  C: { label: 'Clase C', className: 'bg-warning text-warning-foreground', description: 'Desempeño regular' },
  D: { label: 'Clase D', className: 'bg-destructive text-destructive-foreground', description: 'Requiere mejora' },
};

export const APPLICANT_STATUS = {
  pending: { name: 'Pendiente', className: 'bg-muted text-muted-foreground' },
  interview: { name: 'En Entrevista', className: 'bg-info/10 text-info border-info/20' },
  approved: { name: 'Aprobado', className: 'bg-success/10 text-success border-success/20' },
  rejected: { name: 'Rechazado', className: 'bg-destructive/10 text-destructive border-destructive/20' },
};
